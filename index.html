<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LUCKY VIKY - PREMIUM CASINO</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8KKV5TTW2S"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-8KKV5TTW2S');
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: #0a0a0a;
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* ë°°ê²½ ë™ì˜ìƒ */
        .video-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .video-bg video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
        }
        
        /* íŒŒí‹°í´ */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }
        
        .particle {
            position: absolute;
            font-size: 20px;
            animation: float 15s infinite;
            opacity: 0.6;
        }
        
        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.6; }
            90% { opacity: 0.6; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }
        
        /* ì»¨í…Œì´ë„ˆ */
        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 0 20px 20px 20px;
            position: relative;
            z-index: 10;
        }
        
        /* í—¤ë” */
        .header {
            text-align: center;
            padding: 0;
            overflow: hidden;
        }
        
        .header-video {
            width: 100%;
            max-width: 500px;
            height: 80px;
            object-fit: cover;
            object-position: center;
            border-radius: 0;
            display: block;
            margin: 0 auto;
        }
        
        .logo {
            font-size: 32px;
            font-weight: 900;
            color: #22c55e;
            text-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
        }
        
        .logo span {
            color: #fff;
        }
        
        .subtitle {
            font-size: 12px;
            color: rgba(255,255,255,0.6);
            letter-spacing: 3px;
            margin-top: 5px;
        }
        
        /* ë©”ì¸ ë°°ë„ˆ ë™ì˜ìƒ */
        .banner-video {
            width: 100%;
            border-radius: 16px;
            margin-bottom: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        
        /* ì´ë²¤íŠ¸ ì¹´ë“œ */
        .event-card {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
            margin-bottom: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .event-card::before {
            content: 'ğŸ‰';
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 24px;
        }
        
        .event-card::after {
            content: 'ğŸŠ';
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
        }
        
        .event-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            margin-bottom: 12px;
        }
        
        .event-title {
            font-size: 32px;
            font-weight: 900;
            margin-bottom: 16px;
        }
        
        .event-btn {
            display: inline-block;
            background: rgba(0,0,0,0.3);
            color: #fff;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 700;
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .event-btn:hover {
            background: rgba(0,0,0,0.5);
            transform: scale(1.05);
        }
        
        /* í˜œíƒ ì¹´ë“œ */
        .benefit-card {
            background: rgba(30, 30, 30, 0.9);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
            margin-bottom: 10px;
        }
        
        .benefit-title {
            font-size: 18px;
            font-weight: 700;
            color: #fbbf24;
            margin-bottom: 20px;
        }
        
        .benefit-box {
            display: flex;
            flex-direction: column;
            gap: 12px;
            align-items: center;
        }
        
        .benefit-item {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            border: 2px solid rgba(34, 197, 94, 0.5);
            border-radius: 12px;
            padding: 16px 40px;
            font-size: 24px;
            font-weight: 900;
            animation: neonPulse 1.5s ease-in-out infinite;
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.3);
        }
        
        @keyframes neonPulse {
            0%, 100% {
                border-color: rgba(34, 197, 94, 0.5);
                box-shadow: 0 0 20px rgba(34, 197, 94, 0.3),
                            0 0 40px rgba(34, 197, 94, 0.2),
                            inset 0 0 20px rgba(34, 197, 94, 0.1);
                background: linear-gradient(135deg, #1a1a2e, #16213e);
            }
            50% {
                border-color: rgba(34, 197, 94, 1);
                box-shadow: 0 0 30px rgba(34, 197, 94, 0.6),
                            0 0 60px rgba(34, 197, 94, 0.4),
                            0 0 100px rgba(34, 197, 94, 0.2),
                            inset 0 0 30px rgba(34, 197, 94, 0.2);
                background: linear-gradient(135deg, #1e3a2f, #1a3050);
            }
        }
        
        .benefit-plus {
            font-size: 24px;
            color: rgba(255,255,255,0.5);
        }
        
        .benefit-note {
            font-size: 12px;
            color: rgba(255,255,255,0.5);
            margin-top: 16px;
        }
        
        /* ì•ˆë‚´ ì„¹ì…˜ */
        .info-section {
            margin-bottom: 10px;
        }
        
        .info-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .info-box {
            background: rgba(30, 30, 30, 0.9);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 16px;
            font-size: 14px;
            line-height: 1.8;
            color: rgba(255,255,255,0.8);
        }
        
        .info-box strong {
            color: #22c55e;
        }
        
        .info-box .highlight {
            color: #fbbf24;
        }
        
        /* ê¸°í”„í‹°ì½˜ ì´ë¯¸ì§€ */
        .cards-image {
            width: 100%;
            border-radius: 16px;
            margin-bottom: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        
        /* CTA ë²„íŠ¼ */
        .cta-btn {
            display: block;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: #fff;
            text-align: center;
            padding: 18px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 700;
            text-decoration: none;
            margin: 15px 0;
            box-shadow: 0 4px 20px rgba(34, 197, 94, 0.4);
            transition: all 0.3s;
        }
        
        .cta-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(34, 197, 94, 0.5);
        }
        
        /* ê²½ê³  */
        .warning {
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.3);
            border-radius: 12px;
            padding: 16px;
            font-size: 13px;
            color: rgba(255,255,255,0.7);
            text-align: center;
            margin-bottom: 20px;
        }
        
        /* í‘¸í„° */
        .footer {
            text-align: center;
            padding: 20px;
            font-size: 12px;
            color: rgba(255,255,255,0.4);
        }
        
        .footer a {
            color: #22c55e;
            text-decoration: none;
        }

        /* ë©€í‹° ì´ë²¤íŠ¸ ì„¹ì…˜ */
        .events-section {
            margin-bottom: 10px;
        }

        .events-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .event-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .event-card-small {
            position: relative;
            border-radius: 12px;
            padding: 12px;
            background: rgba(15,23,42,0.9);
            border: 1px solid rgba(148,163,184,0.4);
        }

        .event-badge-small {
            font-size: 10px;
            font-weight: 700;
            color: #fbbf24;
            margin-bottom: 4px;
        }

        .event-main-row {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .event-icon {
            font-size: 20px;
        }

        .event-texts {
            flex: 1;
        }

        .event-title-small {
            font-size: 13px;
            font-weight: 700;
        }

        .event-desc-small {
            font-size: 11px;
            color: rgba(226,232,240,0.8);
            margin-top: 2px;
        }

        .event-link {
            display: inline-block;
            margin-top: 6px;
            font-size: 11px;
            color: #38bdf8;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <!-- ë°°ê²½ ë™ì˜ìƒ -->
    <div class="video-bg" id="video-bg">
        <video autoplay muted loop playsinline id="bg-video">
            <source src="" type="video/mp4">
        </video>
        <div class="video-overlay" id="video-overlay"></div>
    </div>
    
    <!-- íŒŒí‹°í´ -->
    <div class="particles" id="particles"></div>
    
    <div class="container">
        <!-- í—¤ë” (ë™ì˜ìƒ + ë¡œê³ ) -->
        <div class="header">
            <video class="header-video" id="header-video" autoplay muted loop playsinline>
                <source src="banner.mp4" type="video/mp4">
            </video>
            <!-- ì–´ë“œë¯¼ì—ì„œ ì œì–´í•˜ëŠ” ë¡œê³  ì˜ì—­ -->
            <div class="logo" id="logo">LUCKY <span>VIKY</span></div>
            <div class="subtitle">PREMIUM ONLINE CASINO</div>
        </div>
        
        <!-- ì´ë²¤íŠ¸ ì¹´ë“œ -->
        <div class="event-card">
            <div class="event-badge" id="event-badge">ğŸ‚ 3rd ANNIVERSARY</div>
            <div class="event-title" id="event-title">ëˆ„êµ¬ë‚˜ 20 + 15</div>
            <a href="#" class="event-btn" id="event-btn">ğŸ° ìŠ¬ë¡¯ ì „ìš© ë³´ë„ˆìŠ¤</a>
        </div>

        <!-- CTA ë²„íŠ¼ (ìƒë‹¨) -->
        <a href="https://KK-32.COM" class="cta-btn" id="cta-btn-top">ğŸ‰ ì§€ê¸ˆ ì°¸ì—¬í•˜ê¸°</a>

        <!-- í˜œíƒ ì¹´ë“œ -->
        <div class="benefit-card">
            <div class="benefit-title" id="benefit-title">ğŸ’° 200,000ì› ì…ê¸ˆì‹œ 3ì£¼ë…„ í˜œíƒ</div>
            <div class="benefit-box">
                <div class="benefit-item" id="benefit-1">100,000P</div>
                <div class="benefit-plus">+</div>
                <div class="benefit-item" id="benefit-2">ê¸°í”„í‹°ì½˜ 50,000ì›</div>
            </div>
            <div class="benefit-note" id="benefit-note">* ìŠ¬ë¡¯ ê²Œì„ ì „ìš© ë³´ë„ˆìŠ¤</div>
        </div>

        <!-- ë©€í‹° ì´ë²¤íŠ¸ ì„¹ì…˜ -->
        <div class="events-section" id="events-section" style="display:none;">
            <div class="events-title">ğŸ¯ ì´ë²¤íŠ¸</div>
            <div class="event-list" id="events-list"></div>
        </div>

        <!-- ê¸°í”„í‹°ì½˜ ìˆ˜ë ¹ë°©ë²• -->
        <div class="info-section">
            <div class="info-title">ğŸ ê¸°í”„í‹°ì½˜ ìˆ˜ë ¹ë°©ë²•</div>
            <div class="info-box" id="info-box">
                ë‹¹ì‚¬ <strong>ê³ ê°ì„¼í„°</strong> ë˜ëŠ” <strong>ê³µì‹ í…”ë ˆê·¸ë¨</strong>ìœ¼ë¡œ<br>
                ì§€ê¸‰ë°›ìœ¼ì‹¤ ê¸°í”„í‹°ì½˜ ì¢…ë¥˜ì™€ ì—°ë½ì²˜ ë‚¨ê²¨ì£¼ì‹œë©´<br>
                <span class="highlight">ë‹¹ì¼ ìˆœì°¨ì ìœ¼ë¡œ ë°œì†¡</span>ë©ë‹ˆë‹¤.
            </div>
        </div>

        <!-- ê¸°í”„í‹°ì½˜ ì¢…ë¥˜ (ì´ë¯¸ì§€) -->
        <img src="cards.png" alt="ê¸°í”„í‹°ì½˜ ì¢…ë¥˜" class="cards-image">

        <!-- CTA ë²„íŠ¼ -->
        <a href="https://KK-32.COM" class="cta-btn" id="cta-btn">ğŸ‰ 3ì£¼ë…„ ê¸°ë… ë³´ë„ˆìŠ¤ ì§€ê¸ˆ ì°¸ì—¬í•˜ê¸°</a>
        
        <!-- ê²½ê³  -->
        <div class="warning" id="warning">
            âš ï¸ ë³¸ ì´ë²¤íŠ¸ëŠ” 1ì¸ 1íšŒ ì°¸ì—¬ ê°€ëŠ¥í•˜ë©°, ë¶€ì • ì°¸ì—¬ ì‹œ ë³´ë„ˆìŠ¤ê°€ íšŒìˆ˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </div>
        
        <!-- í‘¸í„° -->
        <div class="footer">
            Â© 2024 Lucky Viky. All rights reserved.<br>
            ë¬¸ì˜: <a href="https://t.me/BIPLAYS" id="contact-link">@BIPLAYS</a>
        </div>
    </div>
    
    <script>
        // íŒŒí‹°í´ ìƒì„±
        function createParticles() {
            const container = document.getElementById('particles');
            const emojis = ['ğŸ', 'âœ¨', 'â­', 'ğŸ‰', 'ğŸŠ', 'ğŸ’°', 'ğŸ°'];
            
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (10 + Math.random() * 10) + 's';
                container.appendChild(particle);
            }
        }
        
        // ì‚¬ì´íŠ¸ ë°ì´í„° ë¡œë“œ (í˜„ì¬ ë„ë©”ì¸ ê¸°ì¤€)
        async function loadSiteData() {
            try {
                const host = window.location.hostname || 'default';
                const response = await fetch(`/api/site?domain=${encodeURIComponent(host)}`);
                const data = await response.json();
                renderSite(data);
            } catch (error) {
                console.log('ê¸°ë³¸ ë°ì´í„° ì‚¬ìš©');
            }
        }
        
        // ì‚¬ì´íŠ¸ ë Œë”ë§
        function renderSite(data) {
            // ë°°ê²½ ë™ì˜ìƒ
            if (data.bgVideo) {
                document.getElementById('bg-video').src = data.bgVideo;
            }
            
            // ë°°ê²½ ì˜¤ë²„ë ˆì´
            if (data.bgOverlay !== undefined) {
                document.getElementById('video-overlay').style.background = `rgba(0,0,0,${data.bgOverlay})`;
            }
            
            // ë¡œê³ 
            if (data.logo) {
                document.getElementById('logo').innerHTML = data.logo;
            }
            
            // ë°°ë„ˆ ë™ì˜ìƒ (í—¤ë” ë¹„ë””ì˜¤ë¡œ ì‚¬ìš©)
            if (data.bannerVideo) {
                const headerVideo = document.getElementById('header-video');
                const source = headerVideo.querySelector('source') || headerVideo;
                source.src = data.bannerVideo;
                // <source>ë¥¼ ë³€ê²½í•œ ê²½ìš° ë¹„ë””ì˜¤ ë¦¬ë¡œë“œ
                if (source !== headerVideo) {
                    headerVideo.load();
                }
            }
            
            // ì´ë²¤íŠ¸ ì¹´ë“œ
            if (data.eventBadge) document.getElementById('event-badge').textContent = data.eventBadge;
            if (data.eventTitle) document.getElementById('event-title').textContent = data.eventTitle;
            if (data.eventTitleSize) document.getElementById('event-title').style.fontSize = data.eventTitleSize + 'px';
            if (data.eventBtnText) document.getElementById('event-btn').textContent = data.eventBtnText;
            if (data.eventBtnLink) document.getElementById('event-btn').href = data.eventBtnLink;
            
            // í˜œíƒ ì¹´ë“œ
            if (data.benefitTitle) document.getElementById('benefit-title').textContent = data.benefitTitle;
            if (data.benefitTitleSize) document.getElementById('benefit-title').style.fontSize = data.benefitTitleSize + 'px';
            if (data.benefit1) document.getElementById('benefit-1').textContent = data.benefit1;
            if (data.benefit2) document.getElementById('benefit-2').textContent = data.benefit2;
            if (data.benefitItemSize) {
                document.getElementById('benefit-1').style.fontSize = data.benefitItemSize + 'px';
                document.getElementById('benefit-2').style.fontSize = data.benefitItemSize + 'px';
            }
            if (data.benefitNote) document.getElementById('benefit-note').textContent = data.benefitNote;
            
            // CTA ë²„íŠ¼
            if (data.ctaBtnText) document.getElementById('cta-btn').textContent = data.ctaBtnText;
            if (data.ctaBtnLink) {
                document.getElementById('cta-btn').href = data.ctaBtnLink;
                document.getElementById('cta-btn-top').href = data.ctaBtnLink;
            }
            
            // ë¬¸ì˜ ë§í¬
            if (data.contactLink) {
                document.getElementById('contact-link').href = data.contactLink;
                document.getElementById('contact-link').textContent = data.contactText || '@BIPLAYS';
            }

            // ë©€í‹° ì´ë²¤íŠ¸ ì¹´ë“œ
            const eventsSection = document.getElementById('events-section');
            const eventsList = document.getElementById('events-list');
            if (eventsSection && eventsList) {
                if (data.events && Array.isArray(data.events) && data.events.length > 0) {
                    eventsSection.style.display = 'block';
                    eventsList.innerHTML = data.events.map(ev => {
                        const bg = ev.bgColor || 'rgba(15,23,42,0.9)';
                        const badge = ev.badge ? `<div class="event-badge-small">${ev.badge}</div>` : '';
                        const icon = ev.icon || 'ğŸ°';
                        const title = ev.title || 'ì´ë²¤íŠ¸';
                        const desc = ev.description || '';
                        const link = ev.link ? `<a class="event-link" href="${ev.link}" target="_blank" rel="noopener noreferrer">ìì„¸íˆ ë³´ê¸° âœ</a>` : '';
                        return `
                            <div class="event-card-small" style="background:${bg};">
                                ${badge}
                                <div class="event-main-row">
                                    <div class="event-icon">${icon}</div>
                                    <div class="event-texts">
                                        <div class="event-title-small">${title}</div>
                                        <div class="event-desc-small">${desc}</div>
                                        ${link}
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('');
                } else {
                    eventsSection.style.display = 'none';
                    eventsList.innerHTML = '';
                }
            }
        }
        
        // ì–´ë“œë¯¼ì—ì„œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ìˆ˜ì‹ 
        window.addEventListener('message', (event) => {
            if (event.data && event.data.type === 'updateSite') {
                renderSite(event.data.data);
            }
        });
        
        // ë°©ë¬¸ ê¸°ë¡
        async function trackVisit() {
            try {
                await fetch('/api/visit', { method: 'POST' });
            } catch (e) {}
        }
        
        // CTA í´ë¦­ ê¸°ë¡
        async function trackClick() {
            try {
                await fetch('/api/click', { method: 'POST' });
            } catch (e) {}
        }
        
        // CTA ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        document.getElementById('cta-btn').addEventListener('click', trackClick);
        document.getElementById('cta-btn-top').addEventListener('click', trackClick);
        document.getElementById('event-btn').addEventListener('click', trackClick);
        
        // ì´ˆê¸°í™”
        createParticles();
        loadSiteData();
        trackVisit();
    </script>
</body>
</html>
